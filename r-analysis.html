<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="robots" content="noindex, nofollow">
<title>R ã§åˆ†æã™ã‚‹ï½œç¤¾ä¼šå¿ƒç†å­¦ã‚¼ãƒŸ ãƒãƒ¼ã‚¿ãƒ«</title>
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
:root {
  --blue-800: #1a5276; --blue-700: #1f6d9e; --blue-600: #2980b9;
  --blue-100: #d6eaf8; --blue-50: #eaf2f8;
  --gray-50: #f8f9fa; --gray-200: #e9ecef; --gray-500: #868e96;
  --gray-700: #495057; --gray-900: #212529; --white: #ffffff;
  --radius: 10px; --shadow: 0 2px 8px rgba(0,0,0,.08); --shadow-hover: 0 4px 16px rgba(0,0,0,.12);
}
html { scroll-behavior: smooth; }
body { font-family: "Hiragino Kaku Gothic ProN","Noto Sans JP","Meiryo",sans-serif; background: var(--gray-50); color: var(--gray-900); line-height: 1.7; -webkit-text-size-adjust: 100%; }
.page-header { background: linear-gradient(135deg, var(--blue-800), var(--blue-700)); color: var(--white); padding: 1.6rem 1rem 1.2rem; }
.page-header .back { color: rgba(255,255,255,.7); text-decoration: none; font-size: .82rem; display: inline-block; margin-bottom: .4rem; }
.page-header .back:hover { color: #fff; }
.page-header h1 { font-size: 1.35rem; font-weight: 700; }
.main { max-width: 820px; margin: 0 auto; padding: 1.2rem 1rem 3rem; }
.card { background: var(--white); border-radius: var(--radius); box-shadow: var(--shadow); padding: 1.2rem 1.3rem 1.4rem; margin-bottom: 1rem; }
.sub-heading { font-size: .95rem; font-weight: 700; color: var(--blue-800); margin: 1.4rem 0 .6rem; padding-bottom: .3rem; border-bottom: 2px solid var(--blue-100); }
.card > .sub-heading:first-child { margin-top: 0; }
.link-cards { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: .6rem; }
.link-card { display: flex; align-items: center; gap: .6rem; padding: .7rem .9rem; background: var(--gray-50); border: 1px solid var(--gray-200); border-radius: 8px; text-decoration: none; color: var(--gray-900); font-size: .88rem; font-weight: 500; transition: box-shadow .15s, border-color .15s; }
.link-card:hover { border-color: var(--blue-600); box-shadow: var(--shadow-hover); }
.link-card .icon { font-size: 1.2rem; flex-shrink: 0; width: 1.6rem; text-align: center; }
.link-card .label { line-height: 1.35; }
.link-card .label small { display: block; font-weight: 400; font-size: .78rem; color: var(--gray-500); }
.format-list { list-style: disc; padding-left: 1.4rem; font-size: .9rem; }
.format-list li { margin-bottom: .35rem; }
.pkg-list { list-style: none; padding-left: 0; font-size: .9rem; }
.pkg-list li { padding: .45rem .7rem; background: var(--gray-50); border-radius: 6px; border-left: 3px solid var(--blue-600); margin-bottom: .35rem; }
.pkg-list li code { font-family: "SFMono-Regular","Consolas","Menlo",monospace; background: var(--blue-100); padding: .1rem .35rem; border-radius: 4px; font-size: .85rem; font-weight: 600; color: var(--blue-800); }
.info-box { background: var(--blue-50); border-left: 4px solid var(--blue-600); padding: .7rem 1rem; border-radius: 0 8px 8px 0; font-size: .88rem; margin-top: .8rem; color: var(--gray-700); }
.info-box strong { color: var(--blue-800); }
.site-footer { text-align: center; padding: 1.5rem 1rem; font-size: .8rem; color: var(--gray-500); border-top: 1px solid var(--gray-200); margin-top: 1rem; }

/* â”€â”€ Script Finder â”€â”€ */
.search-box { position: relative; margin-bottom: .5rem; }
.search-box input {
  width: 100%; padding: .75rem 1rem .75rem 2.6rem;
  border: 2px solid var(--gray-200); border-radius: 8px;
  font-size: .95rem; font-family: inherit; outline: none;
  transition: border-color .15s;
}
.search-box input:focus { border-color: var(--blue-600); }
.search-box::before {
  content: "ğŸ”"; position: absolute; left: .85rem; top: 50%;
  transform: translateY(-50%); font-size: 1rem; pointer-events: none;
}
.search-hint { font-size: .78rem; color: var(--gray-500); margin-bottom: 1rem; }
.tag-bar { display: flex; flex-wrap: wrap; gap: .4rem; margin-bottom: 1rem; }
.tag-btn {
  background: var(--blue-50); color: var(--blue-800); border: 1px solid var(--blue-100);
  padding: .3rem .7rem; border-radius: 20px; font-size: .78rem; font-weight: 500;
  cursor: pointer; font-family: inherit; transition: background .15s, border-color .15s;
}
.tag-btn:hover, .tag-btn.active { background: var(--blue-600); color: var(--white); border-color: var(--blue-600); }
.script-item { display: none; margin-bottom: 1.2rem; }
.script-item.visible { display: block; }
.script-title {
  font-size: .92rem; font-weight: 700; color: var(--blue-800);
  margin-bottom: .15rem;
}
.script-desc { font-size: .82rem; color: var(--gray-700); margin-bottom: .5rem; }
.script-tags { display: flex; flex-wrap: wrap; gap: .3rem; margin-bottom: .5rem; }
.script-tag {
  background: var(--blue-50); color: var(--blue-700);
  padding: .1rem .5rem; border-radius: 10px; font-size: .7rem; font-weight: 500;
}
.code-block {
  position: relative; background: #1e293b; color: #e2e8f0;
  border-radius: 8px; padding: 1rem; overflow-x: auto;
  font-family: "SFMono-Regular","Consolas","Menlo",monospace;
  font-size: .8rem; line-height: 1.6; white-space: pre;
}
.copy-btn {
  position: absolute; top: .5rem; right: .5rem;
  background: rgba(255,255,255,.15); color: #e2e8f0; border: none;
  padding: .3rem .6rem; border-radius: 6px; font-size: .72rem;
  cursor: pointer; font-family: inherit; transition: background .15s;
}
.copy-btn:hover { background: rgba(255,255,255,.3); }
.no-results { display: none; text-align: center; padding: 2rem; color: var(--gray-500); font-size: .9rem; }
.no-results.visible { display: block; }
.script-sep { border: none; border-top: 1px solid var(--gray-200); margin: 1.2rem 0 0; }

@media (max-width: 600px) { .page-header { padding: 1.2rem .8rem 1rem; } .page-header h1 { font-size: 1.15rem; } .card { padding: 1rem; } .link-cards { grid-template-columns: 1fr; } .code-block { font-size: .72rem; } }
</style>
</head>
<body>

<header class="page-header">
  <a class="back" href="index.html">â† ãƒãƒ¼ã‚¿ãƒ«ã«æˆ»ã‚‹</a>
  <h1>ğŸ“Š R ã§åˆ†æã™ã‚‹</h1>
</header>

<main class="main">

  <!-- â”€â”€ Script Finder â”€â”€ -->
  <div class="card">
    <h3 class="sub-heading">Rã‚¹ã‚¯ãƒªãƒ—ãƒˆæ¤œç´¢</h3>
    <div class="search-box">
      <input type="text" id="scriptSearch" placeholder="ã‚„ã‚ŠãŸã„åˆ†æã‚’å…¥åŠ›ï¼ˆä¾‹ï¼štæ¤œå®šã€ç›¸é–¢ã€åª’ä»‹åˆ†æï¼‰">
    </div>
    <p class="search-hint">ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹ã‹ã€ã‚¿ã‚°ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„</p>
    <div class="tag-bar" id="tagBar">
      <button class="tag-btn" data-tag="ãƒ‡ãƒ¼ã‚¿èª­è¾¼">ãƒ‡ãƒ¼ã‚¿èª­è¾¼</button>
      <button class="tag-btn" data-tag="è¨˜è¿°çµ±è¨ˆ">è¨˜è¿°çµ±è¨ˆ</button>
      <button class="tag-btn" data-tag="ç›¸é–¢">ç›¸é–¢</button>
      <button class="tag-btn" data-tag="tæ¤œå®š">tæ¤œå®š</button>
      <button class="tag-btn" data-tag="åˆ†æ•£åˆ†æ">åˆ†æ•£åˆ†æ</button>
      <button class="tag-btn" data-tag="å›å¸°">å›å¸°åˆ†æ</button>
      <button class="tag-btn" data-tag="å› å­åˆ†æ">å› å­åˆ†æ</button>
      <button class="tag-btn" data-tag="ä¿¡é ¼æ€§">ä¿¡é ¼æ€§</button>
      <button class="tag-btn" data-tag="åª’ä»‹">åª’ä»‹åˆ†æ</button>
      <button class="tag-btn" data-tag="èª¿æ•´">èª¿æ•´åˆ†æ</button>
      <button class="tag-btn" data-tag="SEM">SEM</button>
      <button class="tag-btn" data-tag="åŠ¹æœé‡">åŠ¹æœé‡</button>
      <button class="tag-btn" data-tag="å¯è¦–åŒ–">å¯è¦–åŒ–</button>
    </div>

    <div id="scriptResults">

      <div class="script-item" data-keywords="ãƒ‡ãƒ¼ã‚¿èª­è¾¼ csv èª­ã¿è¾¼ã¿ ãƒ•ã‚¡ã‚¤ãƒ« ã‚¤ãƒ³ãƒãƒ¼ãƒˆ import data">
        <div class="script-title">CSVãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿</div>
        <div class="script-desc">CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚“ã§ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã«æ ¼ç´ã™ã‚‹</div>
        <div class="script-tags"><span class="script-tag">ãƒ‡ãƒ¼ã‚¿èª­è¾¼</span></div>
        <div class="code-block"><button class="copy-btn" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button># CSVãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿
x <- read.csv("data.csv", header = TRUE, fileEncoding = "CP932")

# ãƒ‡ãƒ¼ã‚¿ã®ç¢ºèª
head(x)        # å…ˆé ­6è¡Œ
str(x)         # å¤‰æ•°ã®å‹
summary(x)     # è¦ç´„çµ±è¨ˆ</div>
      </div>

      <div class="script-item" data-keywords="è¨˜è¿°çµ±è¨ˆ å¹³å‡ æ¨™æº–åå·® SD æœ€å° æœ€å¤§ è¦ç´„ descriptive">
        <div class="script-title">è¨˜è¿°çµ±è¨ˆï¼ˆå¹³å‡ãƒ»SDãƒ»æœ€å°ãƒ»æœ€å¤§ï¼‰</div>
        <div class="script-desc">å…¨å¤‰æ•°ã®å¹³å‡å€¤ã€æ¨™æº–åå·®ã€æœ€å°å€¤ã€æœ€å¤§å€¤ã‚’ç®—å‡ºã™ã‚‹</div>
        <div class="script-tags"><span class="script-tag">è¨˜è¿°çµ±è¨ˆ</span></div>
        <div class="code-block"><button class="copy-btn" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>library(psych)

# è¨˜è¿°çµ±è¨ˆã®ç®—å‡º
describe(x)

# ç‰¹å®šã®å¤‰æ•°ã®ã¿
describe(x[, c("var1", "var2", "var3")])

# åç¾©å°ºåº¦ã®åº¦æ•°åˆ†å¸ƒ
table(x$gender)
table(x$condition)</div>
      </div>

      <div class="script-item" data-keywords="ç›¸é–¢ ç›¸é–¢åˆ†æ ç›¸é–¢è¡Œåˆ— correlation ãƒ”ã‚¢ã‚½ãƒ³ ã‚¹ãƒ”ã‚¢ãƒãƒ³ pearson spearman">
        <div class="script-title">ç›¸é–¢åˆ†æï¼ˆç›¸é–¢è¡Œåˆ—ã®ä½œæˆï¼‰</div>
        <div class="script-desc">å¤‰æ•°é–“ã®ç›¸é–¢ä¿‚æ•°ã¨æœ‰æ„æ€§æ¤œå®šã‚’è¡Œã†</div>
        <div class="script-tags"><span class="script-tag">ç›¸é–¢</span></div>
        <div class="code-block"><button class="copy-btn" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>library(psych)

# ãƒ”ã‚¢ã‚½ãƒ³ã®ç›¸é–¢è¡Œåˆ—ï¼ˆæœ‰æ„æ€§æ¤œå®šä»˜ãï¼‰
corr.test(x[, c("var1", "var2", "var3")], method = "pearson")

# ã‚¹ãƒ”ã‚¢ãƒãƒ³ã®é †ä½ç›¸é–¢ï¼ˆé †åºãƒ‡ãƒ¼ã‚¿ã®å ´åˆï¼‰
corr.test(x[, c("var1", "var2", "var3")], method = "spearman")

# ç›¸é–¢è¡Œåˆ—ã®è¡¨ç¤ºï¼ˆè¦‹ã‚„ã™ã„å½¢å¼ï¼‰
r <- corr.test(x[, c("var1", "var2", "var3")])
print(r, short = FALSE)  # ç›¸é–¢ä¿‚æ•° + på€¤ + ä¿¡é ¼åŒºé–“</div>
      </div>

      <div class="script-item" data-keywords="tæ¤œå®š t-test å¹³å‡å·® 2ç¾¤ æ¯”è¼ƒ å¯¾å¿œã‚ã‚Š å¯¾å¿œãªã—">
        <div class="script-title">tæ¤œå®šï¼ˆ2ç¾¤ã®å¹³å‡å€¤å·®ã®æ¤œå®šï¼‰</div>
        <div class="script-desc">2ã¤ã®ç¾¤ã®å¹³å‡å€¤ã«çµ±è¨ˆçš„ãªå·®ãŒã‚ã‚‹ã‹ã‚’æ¤œå®šã™ã‚‹</div>
        <div class="script-tags"><span class="script-tag">tæ¤œå®š</span><span class="script-tag">åŠ¹æœé‡</span></div>
        <div class="code-block"><button class="copy-btn" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>library(effectsize)

# å¯¾å¿œãªã—tæ¤œå®šï¼ˆç‹¬ç«‹2ç¾¤ï¼‰
result <- t.test(score ~ group, data = x)
print(result)

# åŠ¹æœé‡ï¼ˆCohen's dï¼‰
cohens_d(score ~ group, data = x)

# å¯¾å¿œã‚ã‚Štæ¤œå®š
t.test(x$pre, x$post, paired = TRUE)

# ç¾¤ã”ã¨ã®è¨˜è¿°çµ±è¨ˆ
tapply(x$score, x$group, function(v) c(M = mean(v), SD = sd(v), n = length(v)))</div>
      </div>

      <div class="script-item" data-keywords="åˆ†æ•£åˆ†æ ANOVA ä¸€è¦å›  äºŒè¦å›  å¤šé‡æ¯”è¼ƒ äº¤äº’ä½œç”¨ anova å¯¾å¿œã‚ã‚Š å¯¾å¿œãªã— è¢«é¨“è€…é–“ è¢«é¨“è€…å†…">
        <div class="script-title">åˆ†æ•£åˆ†æï¼ˆANOVAï¼‰</div>
        <div class="script-desc">3ç¾¤ä»¥ä¸Šã®å¹³å‡å€¤å·®ã®æ¤œå®šã¨å¤šé‡æ¯”è¼ƒã‚’è¡Œã†</div>
        <div class="script-tags"><span class="script-tag">åˆ†æ•£åˆ†æ</span><span class="script-tag">åŠ¹æœé‡</span></div>
        <div class="code-block"><button class="copy-btn" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>library(car)
library(effectsize)

# ä¸€è¦å› åˆ†æ•£åˆ†æ
model <- aov(score ~ group, data = x)
summary(model)
eta_squared(model)       # åŠ¹æœé‡

# å¤šé‡æ¯”è¼ƒï¼ˆTukeyæ³•ï¼‰
TukeyHSD(model)

# äºŒè¦å› åˆ†æ•£åˆ†æï¼ˆäº¤äº’ä½œç”¨ã‚ã‚Šï¼‰
model2 <- aov(score ~ factor1 * factor2, data = x)
Anova(model2, type = "III")  # Type III SS
eta_squared(model2)

# å¯¾å¿œã‚ã‚Šï¼ˆè¢«é¨“è€…å†…ï¼‰åˆ†æ•£åˆ†æ
# ãƒ‡ãƒ¼ã‚¿ã¯ long format ã«ã—ã¦ãŠã
library(ez)
ezANOVA(data = x_long, dv = score, wid = id, within = condition)</div>
      </div>

      <div class="script-item" data-keywords="å›å¸° å›å¸°åˆ†æ å˜å›å¸° é‡å›å¸° regression äºˆæ¸¬ å½±éŸ¿">
        <div class="script-title">å›å¸°åˆ†æï¼ˆå˜å›å¸°ãƒ»é‡å›å¸°ï¼‰</div>
        <div class="script-desc">ç‹¬ç«‹å¤‰æ•°ã‹ã‚‰å¾“å±å¤‰æ•°ã‚’äºˆæ¸¬ã™ã‚‹ãƒ¢ãƒ‡ãƒ«ã‚’æ¨å®šã™ã‚‹</div>
        <div class="script-tags"><span class="script-tag">å›å¸°</span></div>
        <div class="code-block"><button class="copy-btn" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button># å˜å›å¸°åˆ†æ
model <- lm(y ~ x1, data = x)
summary(model)

# é‡å›å¸°åˆ†æ
model <- lm(y ~ x1 + x2 + x3, data = x)
summary(model)
confint(model)   # 95%ä¿¡é ¼åŒºé–“

# æ¨™æº–åŒ–ä¿‚æ•°
library(lm.beta)
lm.beta(model)

# VIFï¼ˆå¤šé‡å…±ç·šæ€§ã®ç¢ºèªï¼‰
library(car)
vif(model)</div>
      </div>

      <div class="script-item" data-keywords="ä¿¡é ¼æ€§ ä¿¡é ¼æ€§åˆ†æ Î± ã‚¢ãƒ«ãƒ•ã‚¡ ã‚¯ãƒ­ãƒ³ãƒãƒƒã‚¯ cronbach alpha å†…çš„æ•´åˆæ€§">
        <div class="script-title">ä¿¡é ¼æ€§åˆ†æï¼ˆCronbach's Î±ï¼‰</div>
        <div class="script-desc">å°ºåº¦ã®å†…çš„æ•´åˆæ€§ï¼ˆä¿¡é ¼æ€§ä¿‚æ•°Î±ï¼‰ã‚’ç®—å‡ºã™ã‚‹</div>
        <div class="script-tags"><span class="script-tag">ä¿¡é ¼æ€§</span></div>
        <div class="code-block"><button class="copy-btn" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>library(psych)

# å°ºåº¦ã‚’æ§‹æˆã™ã‚‹é …ç›®ã‚’æŒ‡å®š
scale_items <- x[, c("item1", "item2", "item3", "item4")]

# Cronbach's Î±
alpha(scale_items)

# é€†è»¢é …ç›®ãŒã‚ã‚‹å ´åˆï¼ˆä¾‹ï¼šitem3ã‚’é€†è»¢ï¼‰
alpha(scale_items, keys = c(1, 1, -1, 1))

# å°ºåº¦å¾—ç‚¹ã®ç®—å‡ºï¼ˆå¹³å‡å€¤ï¼‰
x$scale_score <- rowMeans(scale_items, na.rm = TRUE)</div>
      </div>

      <div class="script-item" data-keywords="å› å­åˆ†æ æ¢ç´¢çš„ ç¢ºèªçš„ EFA CFA factor å› å­è² è·é‡ ã‚¹ã‚¯ãƒªãƒ¼ãƒ—ãƒ­ãƒƒãƒˆ">
        <div class="script-title">æ¢ç´¢çš„å› å­åˆ†æï¼ˆEFAï¼‰</div>
        <div class="script-desc">è¦³æ¸¬å¤‰æ•°ã®èƒŒå¾Œã«ã‚ã‚‹æ½œåœ¨å› å­ã‚’æ¢ç´¢ã™ã‚‹</div>
        <div class="script-tags"><span class="script-tag">å› å­åˆ†æ</span></div>
        <div class="code-block"><button class="copy-btn" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>library(psych)

items <- x[, c("item1", "item2", "item3", "item4", "item5", "item6")]

# å› å­æ•°ã®æ¨å®šï¼ˆã‚¹ã‚¯ãƒªãƒ¼ãƒ—ãƒ­ãƒƒãƒˆï¼‰
scree(items)
fa.parallel(items)

# å› å­åˆ†æã®å®Ÿè¡Œï¼ˆä¾‹ï¼š2å› å­ã€ãƒ—ãƒ­ãƒãƒƒã‚¯ã‚¹å›è»¢ï¼‰
result <- fa(items, nfactors = 2, rotate = "promax", fm = "ml")
print(result, cut = 0.30)    # å› å­è² è·é‡ .30 ä»¥ä¸Šã‚’è¡¨ç¤º
fa.diagram(result)            # ãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ è¡¨ç¤º</div>
      </div>

      <div class="script-item" data-keywords="åª’ä»‹ åª’ä»‹åˆ†æ é–“æ¥åŠ¹æœ mediation ãƒ—ãƒ­ã‚»ã‚¹ ãƒ–ãƒ¼ãƒˆã‚¹ãƒˆãƒ©ãƒƒãƒ—">
        <div class="script-title">åª’ä»‹åˆ†æï¼ˆé–“æ¥åŠ¹æœã®æ¤œå®šï¼‰</div>
        <div class="script-desc">X â†’ M â†’ Y ã®é–“æ¥åŠ¹æœã‚’ãƒ–ãƒ¼ãƒˆã‚¹ãƒˆãƒ©ãƒƒãƒ—æ³•ã§æ¤œå®šã™ã‚‹</div>
        <div class="script-tags"><span class="script-tag">åª’ä»‹</span><span class="script-tag">SEM</span></div>
        <div class="code-block"><button class="copy-btn" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>library(lavaan)

# ãƒ¢ãƒ‡ãƒ«ã®å®šç¾©ï¼ˆX â†’ M â†’ Yï¼‰
med_model <- '
  # ç›´æ¥åŠ¹æœ
  Y ~ c*X + b*M
  # X â†’ M ã®ãƒ‘ã‚¹
  M ~ a*X
  # é–“æ¥åŠ¹æœ
  indirect := a * b
  # ç·åˆåŠ¹æœ
  total := c + a * b
'

# æ¨å®šï¼ˆãƒ–ãƒ¼ãƒˆã‚¹ãƒˆãƒ©ãƒƒãƒ— 5000å›ï¼‰
fit <- sem(med_model, data = x, se = "bootstrap", bootstrap = 5000)
summary(fit, ci = TRUE)
parameterEstimates(fit, boot.ci.type = "bca.simple")</div>
      </div>

      <div class="script-item" data-keywords="èª¿æ•´ èª¿æ•´åˆ†æ äº¤äº’ä½œç”¨ moderation interaction å˜ç´”å‚¾æ–œ">
        <div class="script-title">èª¿æ•´åˆ†æï¼ˆäº¤äº’ä½œç”¨ã®æ¤œå®šï¼‰</div>
        <div class="script-desc">X â†’ Y ã®é–¢ä¿‚ãŒèª¿æ•´å¤‰æ•° W ã«ã‚ˆã£ã¦ç•°ãªã‚‹ã‹ã‚’æ¤œå®šã™ã‚‹</div>
        <div class="script-tags"><span class="script-tag">èª¿æ•´</span><span class="script-tag">å›å¸°</span></div>
        <div class="code-block"><button class="copy-btn" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button># å¤‰æ•°ã®ä¸­å¿ƒåŒ–ï¼ˆäº¤äº’ä½œç”¨é …ã‚’ä½œã‚‹å‰ã«ï¼‰
x$X_c <- scale(x$X, scale = FALSE)
x$W_c <- scale(x$W, scale = FALSE)
x$XW  <- x$X_c * x$W_c

# äº¤äº’ä½œç”¨ã‚’å«ã‚€é‡å›å¸°
model <- lm(Y ~ X_c + W_c + XW, data = x)
summary(model)

# å˜ç´”å‚¾æ–œæ¤œå®šï¼ˆW ãŒé«˜/ä½ã®ã¨ãã® X ã®åŠ¹æœï¼‰
library(interactions)
sim_slopes(model, pred = X_c, modx = W_c)
interact_plot(model, pred = X_c, modx = W_c, interval = TRUE)</div>
      </div>

      <div class="script-item" data-keywords="SEM æ§‹é€ æ–¹ç¨‹å¼ ãƒ‘ã‚¹è§£æ æ½œåœ¨å¤‰æ•° path structural equation">
        <div class="script-title">æ§‹é€ æ–¹ç¨‹å¼ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ï¼ˆSEMï¼‰</div>
        <div class="script-desc">æ½œåœ¨å¤‰æ•°ã‚’å«ã‚€ãƒ‘ã‚¹ãƒ¢ãƒ‡ãƒ«ã‚’æ¨å®šã™ã‚‹</div>
        <div class="script-tags"><span class="script-tag">SEM</span></div>
        <div class="code-block"><button class="copy-btn" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>library(lavaan)

# ãƒ¢ãƒ‡ãƒ«ã®å®šç¾©
sem_model <- '
  # æ¸¬å®šãƒ¢ãƒ‡ãƒ«ï¼ˆæ½œåœ¨å¤‰æ•°ã®å®šç¾©ï¼‰
  F1 =~ item1 + item2 + item3
  F2 =~ item4 + item5 + item6

  # æ§‹é€ ãƒ¢ãƒ‡ãƒ«ï¼ˆãƒ‘ã‚¹ï¼‰
  F2 ~ F1
'

# æ¨å®š
fit <- sem(sem_model, data = x)
summary(fit, fit.measures = TRUE, standardized = TRUE)

# é©åˆåº¦æŒ‡æ¨™
fitMeasures(fit, c("cfi", "tli", "rmsea", "srmr"))

# ãƒ‘ã‚¹å›³
library(semPlot)
semPaths(fit, "std", layout = "tree")</div>
      </div>

      <div class="script-item" data-keywords="åŠ¹æœé‡ effect size Cohen d Î·2 eta æ¤œå®šåŠ› power">
        <div class="script-title">åŠ¹æœé‡ã®ç®—å‡º</div>
        <div class="script-desc">å„ç¨®æ¤œå®šã®åŠ¹æœé‡ï¼ˆCohen's d, Î·Â², rï¼‰ã‚’ç®—å‡ºã™ã‚‹</div>
        <div class="script-tags"><span class="script-tag">åŠ¹æœé‡</span></div>
        <div class="code-block"><button class="copy-btn" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>library(effectsize)

# tæ¤œå®šã®åŠ¹æœé‡ï¼ˆCohen's dï¼‰
cohens_d(score ~ group, data = x)

# ANOVAã®åŠ¹æœé‡ï¼ˆÎ·Â²ï¼‰
model <- aov(score ~ group, data = x)
eta_squared(model)
# ã¾ãŸã¯åÎ·Â²
eta_squared(model, partial = TRUE)

# ç›¸é–¢ä¿‚æ•° r ã¯ãã®ã¾ã¾åŠ¹æœé‡ã¨ã—ã¦å ±å‘Šå¯èƒ½
# å°: r = .10, ä¸­: r = .30, å¤§: r = .50</div>
      </div>

      <div class="script-item" data-keywords="å¯è¦–åŒ– ã‚°ãƒ©ãƒ• æ£’ã‚°ãƒ©ãƒ• æ•£å¸ƒå›³ ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ  plot ggplot å›³">
        <div class="script-title">ãƒ‡ãƒ¼ã‚¿ã®å¯è¦–åŒ–ï¼ˆggplot2ï¼‰</div>
        <div class="script-desc">ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã€æ•£å¸ƒå›³ã€æ£’ã‚°ãƒ©ãƒ•ãªã©ã‚’ä½œæˆã™ã‚‹</div>
        <div class="script-tags"><span class="script-tag">å¯è¦–åŒ–</span></div>
        <div class="code-block"><button class="copy-btn" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>library(ggplot2)

# ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ 
ggplot(x, aes(x = score)) +
  geom_histogram(bins = 15, fill = "#2980b9", alpha = 0.7) +
  theme_minimal()

# æ•£å¸ƒå›³ï¼ˆå›å¸°ç›´ç·šä»˜ãï¼‰
ggplot(x, aes(x = var1, y = var2)) +
  geom_point() +
  geom_smooth(method = "lm") +
  theme_minimal()

# ç¾¤åˆ¥ã®æ£’ã‚°ãƒ©ãƒ•ï¼ˆå¹³å‡ + ã‚¨ãƒ©ãƒ¼ãƒãƒ¼ï¼‰
library(dplyr)
summary_df <- x %>%
  group_by(group) %>%
  summarise(M = mean(score), SE = sd(score) / sqrt(n()))

ggplot(summary_df, aes(x = group, y = M, fill = group)) +
  geom_col(width = 0.6) +
  geom_errorbar(aes(ymin = M - SE, ymax = M + SE), width = 0.2) +
  theme_minimal()</div>
      </div>

      <div class="script-item" data-keywords="åç›¸é–¢ partial correlation çµ±åˆ¶ ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«">
        <div class="script-title">åç›¸é–¢åˆ†æ</div>
        <div class="script-desc">ç¬¬3å¤‰æ•°ã‚’çµ±åˆ¶ã—ãŸä¸Šã§ã®2å¤‰æ•°é–“ã®ç›¸é–¢ã‚’ç®—å‡ºã™ã‚‹</div>
        <div class="script-tags"><span class="script-tag">ç›¸é–¢</span></div>
        <div class="code-block"><button class="copy-btn" onclick="copyCode(this)">ã‚³ãƒ”ãƒ¼</button>library(ppcor)

# var1ã¨var2ã®ç›¸é–¢ã‚’ã€var3ã‚’çµ±åˆ¶ã—ã¦ç®—å‡º
pcor.test(x$var1, x$var2, x$var3)

# è¤‡æ•°å¤‰æ•°ã‚’çµ±åˆ¶
pcor(x[, c("var1", "var2", "control1", "control2")])</div>
      </div>

    </div>

    <div class="no-results" id="noResults">è©²å½“ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“</div>
  </div>

  <!-- â”€â”€ Setup â”€â”€ -->
  <div class="card">
    <h3 class="sub-heading">ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—</h3>
    <div class="link-cards">
      <a class="link-card" href="https://cran.r-project.org/" target="_blank" rel="noopener">
        <span class="icon">ğŸ“¦</span>
        <span class="label">R ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«<small>CRAN å…¬å¼ã‚µã‚¤ãƒˆ</small></span>
      </a>
      <a class="link-card" href="https://posit.co/download/rstudio-desktop/" target="_blank" rel="noopener">
        <span class="icon">ğŸ’»</span>
        <span class="label">RStudio ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«<small>Posit å…¬å¼ã‚µã‚¤ãƒˆ</small></span>
      </a>
    </div>
  </div>

  <!-- â”€â”€ Packages â”€â”€ -->
  <div class="card">
    <h3 class="sub-heading">å¿…é ˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸</h3>
    <ul class="pkg-list">
      <li><code>tidyverse</code> â€• ãƒ‡ãƒ¼ã‚¿æ•´ç†ãƒ»å¯è¦–åŒ–ï¼ˆdplyr, ggplot2 ç­‰ï¼‰</li>
      <li><code>psych</code> â€• å¿ƒç†çµ±è¨ˆï¼ˆè¨˜è¿°çµ±è¨ˆãƒ»å› å­åˆ†æãƒ»ä¿¡é ¼æ€§åˆ†æï¼‰</li>
      <li><code>lavaan</code> â€• æ§‹é€ æ–¹ç¨‹å¼ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ï¼ˆSEMï¼‰ãƒ»ãƒ‘ã‚¹è§£æ</li>
      <li><code>car</code> â€• åˆ†æ•£åˆ†æãƒ»å›å¸°è¨ºæ–­</li>
      <li><code>effectsize</code> â€• åŠ¹æœé‡ã®ç®—å‡ºï¼ˆCohen's d, Î·Â² ç­‰ï¼‰</li>
    </ul>
  </div>

  <!-- â”€â”€ Reporting â”€â”€ -->
  <div class="card">
    <h3 class="sub-heading">ãƒ‡ãƒ¼ã‚¿è¨˜è¼‰ã®åŸºæº–</h3>
    <div class="info-box">
      <strong>è«–æ–‡ã«è¨˜è¼‰ã™ã¹ãçµ±è¨ˆæƒ…å ±ï¼š</strong>
      <ul style="margin-top:.4rem; padding-left:1.2rem; font-size:.85rem;">
        <li>å…¨å¤‰æ•°ã®<strong>æœ€å°å€¤ãƒ»æœ€å¤§å€¤ãƒ»å¹³å‡å€¤ãƒ»æ¨™æº–åå·®</strong></li>
        <li>ç›¸é–¢è¡Œåˆ—ã«<strong>æœ‰æ„æ€§ã®è¡¨è¨˜</strong>ï¼ˆ* p &lt; .05, ** p &lt; .01ï¼‰</li>
        <li><strong>åŠ¹æœé‡</strong>ã¨<strong>ä¿¡é ¼åŒºé–“</strong>ã®å ±å‘Š</li>
      </ul>
    </div>
  </div>

</main>

<footer class="site-footer">
  ç¤¾ä¼šå¿ƒç†å­¦ã‚¼ãƒŸ ãƒãƒ¼ã‚¿ãƒ« ï¼ å—å±±å¤§å­¦ åœŸå±‹è€•æ²»
</footer>

<script>
(function() {
  const input = document.getElementById('scriptSearch');
  const items = document.querySelectorAll('.script-item');
  const noResults = document.getElementById('noResults');
  const tagBtns = document.querySelectorAll('.tag-btn');

  function filter(query) {
    query = query.toLowerCase().trim();
    let found = 0;
    items.forEach(item => {
      const kw = item.dataset.keywords.toLowerCase();
      const title = item.querySelector('.script-title').textContent.toLowerCase();
      const desc = item.querySelector('.script-desc').textContent.toLowerCase();
      const match = !query || kw.includes(query) || title.includes(query) || desc.includes(query);
      item.classList.toggle('visible', match);
      if (match) found++;
    });
    noResults.classList.toggle('visible', found === 0 && query.length > 0);
  }

  // Show all on load
  items.forEach(i => i.classList.add('visible'));

  input.addEventListener('input', function() {
    tagBtns.forEach(b => b.classList.remove('active'));
    filter(this.value);
  });

  tagBtns.forEach(btn => {
    btn.addEventListener('click', function() {
      const isActive = this.classList.contains('active');
      tagBtns.forEach(b => b.classList.remove('active'));
      if (isActive) {
        input.value = '';
        filter('');
      } else {
        this.classList.add('active');
        input.value = this.dataset.tag;
        filter(this.dataset.tag);
      }
    });
  });
})();

function copyCode(btn) {
  const block = btn.parentElement;
  const code = block.textContent.replace('ã‚³ãƒ”ãƒ¼', '').trim();
  navigator.clipboard.writeText(code).then(() => {
    btn.textContent = 'ã‚³ãƒ”ãƒ¼æ¸ˆã¿';
    setTimeout(() => btn.textContent = 'ã‚³ãƒ”ãƒ¼', 1500);
  });
}
</script>

</body>
</html>
